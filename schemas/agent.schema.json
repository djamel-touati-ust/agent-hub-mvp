{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "UST Agent Manifest",
  "type": "object",
  "required": ["name", "version", "language", "entrypoints", "mcp", "a2a"],
  "properties": {
    "name": { "type": "string", "pattern": "^[a-z0-9][a-z0-9-_]*$" },
    "version": { "type": "string" },
    "owner": { "type": "string" },
    "language": { "type": "string", "enum": ["python", "node", "java", "other"] },
    "frameworks": { "type": "array", "items": { "type": "string" } },
    "description": { "type": "string" },
    "license": { "type": "string" },
    "entrypoints": {
      "type": "object",
      "required": ["mcp", "a2a"],
      "properties": {
        "mcp": {
          "type": "object",
          "required": ["type", "command", "args"],
          "properties": {
            "type": { "type": "string", "enum": ["stdio", "http"] },
            "command": { "type": "string" },
            "args": { "type": "array", "items": { "type": "string" } }
          }
        },
        "a2a": {
          "type": "object",
          "required": ["url", "transport"],
          "properties": {
            "url": { "type": "string", "format": "uri" },
            "transport": { "type": "string", "enum": ["JSONRPC"] }
          }
        }
      }
    },
    "mcp": {
      "type": "object",
      "properties": {
        "tools": {
          "type": "array",
          "items": {
            "type": "object",
            "required": ["name"],
            "properties": {
              "name": { "type": "string" },
              "inputSchema": { "type": "object" }
            }
          }
        }
      }
    },
    "a2a": {
      "type": "object",
      "properties": {
        "skills": {
          "type": "array",
          "items": {
            "type": "object",
            "required": ["id", "description"],
            "properties": {
              "id": { "type": "string" },
              "description": { "type": "string" },
              "inputSchema": { "type": "object" },
              "outputSchema": { "type": "object" }
            }
          }
        }
      }
    },
    "models": { "type": "object" },
    "env": { "type": "object" },
    "security": { "type": "object" }
  }
}